<div class="page-container">
  <div class="page-header">
    <h1>Editar Dependencia</h1>
  </div>

  <!-- Loading -->
  <div *ngIf="loadingData" class="loading">
    <div class="spinner"></div>
    <p>Cargando datos...</p>
  </div>

  <!-- Form -->
  <div *ngIf="!loadingData" class="form-card">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="nombre">Nombre de Dependencia *</label>
        <input
          id="nombre"
          type="text"
          formControlName="nombre"
          placeholder="Ej: Recursos Humanos"
          [class.error]="nombre?.invalid && nombre?.touched"
        />
        <div class="error-message" *ngIf="nombre?.invalid && nombre?.touched">
          <span *ngIf="nombre?.errors?.['required']">El nombre es requerido</span>
          <span *ngIf="nombre?.errors?.['minlength']">MÃ­nimo 3 caracteres</span>
        </div>
      </div>

      <div class="alert-error" *ngIf="error">
        {{ error }}
      </div>

      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="onCancel()" [disabled]="loading">
          Cancelar
        </button>
        <button type="submit" class="btn-primary" [disabled]="loading || form.invalid">
          <span *ngIf="!loading">Actualizar</span>
          <span *ngIf="loading">Actualizando...</span>
        </button>
      </div>
    </form>
  </div>
</div>
